==========================================
MongoDB\\ClientBulkWrite::withCollection()
==========================================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. versionadded:: 2.1

Definition
----------

.. phpmethod:: MongoDB\ClientBulkWrite::withCollection()

   Return an instance of :phpclass:`MongoDB\ClientBulkWrite` from the provided
   :phpclass:`MongoDB\Collection` instance. This method allows you to
   add subsequent write operations on a different collection than that
   with which the ``MongoDB\ClientBulkWrite`` was created with.

   .. code-block:: php

      function withCollection(
          Collection $collection,
      ): self


   You cannot mix ``Collection`` instances associated with different
   ``Manager`` objects because the library sends the client bulk
   write operation as a command to a single server.

Parameters
----------

``$collection`` : :phpclass:`MongoDB\Collection`
  The ``Collection`` instance to set as the target for write operations
  added to the ``ClientBulkWrite`` instance after calling
  ``withCollection()``.

Errors/Exceptions
-----------------

.. include:: /includes/extracts/error-unsupportedexception.rst
.. include:: /includes/extracts/error-invalidargumentexception.rst
.. include:: /includes/extracts/error-driver-runtimeexception.rst

See Also
--------

- :ref:`php-client-bulk-write` section of the Bulk Write Operations guide
